<!-- pages/draft-box/draft-box.wxml -->
<view class="container">
  <!-- è‰ç¨¿åˆ—è¡¨ -->
  <view wx:if="{{drafts.length > 0}}" class="draft-list">
    <view wx:for="{{drafts}}" wx:key="_id" class="draft-item" bindtap="editDraft" data-draft="{{item}}">
      <view class="draft-content">
        <view class="draft-title">{{item.title || 'æ— æ ‡é¢˜'}}</view>
        <view class="draft-preview">{{item.content || 'æ— å†…å®¹'}}</view>
        <view class="draft-meta">
          <text class="draft-time">{{item.formattedSaveTime}}</text>
          <text class="draft-mode">{{item.publishMode === 'poem' ? 'è¯—æ­Œ' : 'æ™®é€š'}}</text>
          <text wx:if="{{item.isOriginal}}" class="draft-original">åŸåˆ›</text>
        </view>
      </view>
      <view class="draft-actions">
        <button class="action-btn edit-btn" size="mini" catch:tap="editDraft" data-draft="{{item}}">ç¼–è¾‘</button>
        <button class="action-btn delete-btn" size="mini" catch:tap="deleteDraft" data-draft-id="{{item._id}}">åˆ é™¤</button>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view wx:else class="empty-container">
    <view class="empty-icon">ğŸ“</view>
    <view class="empty-text">è‰ç¨¿ç®±æ˜¯ç©ºçš„</view>
    <view class="empty-subtext">å»å‘å¸ƒä¸€äº›å†…å®¹å§</view>
    <button class="create-btn" bindtap="goToPublish">å¼€å§‹åˆ›ä½œ</button>
  </view>
</view>
